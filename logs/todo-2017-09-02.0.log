DEBUG [2017-09-02 18:56:30,062][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/user/list, send json:  
DEBUG [2017-09-02 18:56:31,607][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1}] 
INFO  [2017-09-02 18:56:32,109][] com.liuqi.tool.todo.ui.Main:69 - Get saved user info succeeded, username: 刘奇 
DEBUG [2017-09-02 18:56:32,835][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170827, send json:  
DEBUG [2017-09-02 18:56:32,915][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,002][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170828, send json:  
DEBUG [2017-09-02 18:56:33,022][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,032][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170829, send json:  
DEBUG [2017-09-02 18:56:33,079][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,089][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170830, send json:  
DEBUG [2017-09-02 18:56:33,115][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,130][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170831, send json:  
DEBUG [2017-09-02 18:56:33,152][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,174][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170901, send json:  
DEBUG [2017-09-02 18:56:33,207][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,217][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170902, send json:  
DEBUG [2017-09-02 18:56:33,242][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,251][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170827, send json:  
DEBUG [2017-09-02 18:56:33,269][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,279][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170828, send json:  
DEBUG [2017-09-02 18:56:33,297][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,304][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170829, send json:  
DEBUG [2017-09-02 18:56:33,322][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,328][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170830, send json:  
DEBUG [2017-09-02 18:56:33,350][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,359][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170831, send json:  
DEBUG [2017-09-02 18:56:33,378][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,388][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170901, send json:  
DEBUG [2017-09-02 18:56:33,417][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,424][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170902, send json:  
DEBUG [2017-09-02 18:56:33,452][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,469][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170827, send json:  
DEBUG [2017-09-02 18:56:33,524][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,530][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170828, send json:  
DEBUG [2017-09-02 18:56:33,545][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,552][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170829, send json:  
DEBUG [2017-09-02 18:56:33,566][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,574][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170830, send json:  
DEBUG [2017-09-02 18:56:33,587][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,594][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170831, send json:  
DEBUG [2017-09-02 18:56:33,607][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,614][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170901, send json:  
DEBUG [2017-09-02 18:56:33,633][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,649][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/listForPlanDate/刘奇/20170902, send json:  
DEBUG [2017-09-02 18:56:33,666][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,742][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/unrequirement/list/刘奇, send json:  
DEBUG [2017-09-02 18:56:33,768][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:33,821][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/requirement/list/刘奇, send json:  
DEBUG [2017-09-02 18:56:33,839][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:34,069][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/requirement/listBusiUsers, send json:  
DEBUG [2017-09-02 18:56:34,102][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:34,116][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/user/list, send json:  
DEBUG [2017-09-02 18:56:34,140][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1}] 
DEBUG [2017-09-02 18:56:34,164][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/user/list, send json:  
DEBUG [2017-09-02 18:56:34,181][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1}] 
DEBUG [2017-09-02 18:56:34,186][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/user/workOff/list, send json:  
DEBUG [2017-09-02 18:56:34,217][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [] 
DEBUG [2017-09-02 18:56:34,276][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/env/list, send json:  
DEBUG [2017-09-02 18:56:34,296][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [{"id":1,"system":"123123","type":"开发环境","serverType":"应用服务器","address":"123123","users":"123123","remark":"123123"}] 
DEBUG [2017-09-02 18:56:34,385][] com.liuqi.tool.todo.util.Ajax:179 - Send post request, url: http://localhost/note/list, send json:  
DEBUG [2017-09-02 18:56:34,662][] com.liuqi.tool.todo.util.Ajax:287 - Get response json: [{"id":125,"name":"222","directory":true,"parent":null,"childrens":[{"id":126,"name":"qe123123","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:'Consolas';font-size:9.0pt;\"><span style=\"color:#cc7832;\">package </span>com.liuqi.tool.todo.ui<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">import </span>com.liuqi.learn.exceptions.TodoException<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>com.liuqi.learn.model.User<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>com.liuqi.tool.todo.util.Cache<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>com.liuqi.tool.todo.util.ConfigProxy<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.application.Application<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.fxml.FXMLLoader<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.scene.Parent<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.scene.Scene<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.scene.control.Tab<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.scene.control.TabPane<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.scene.layout.BorderPane<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.stage.Screen<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.stage.Stage<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.stage.StageStyle<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>org.slf4j.Logger<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>org.slf4j.LoggerFactory<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">import </span>java.awt.geom.Rectangle2D<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>java.io.IOException<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>java.util.Iterator<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>java.util.List<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>java.util.Optional<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">public class </span>Main <span style=\"color:#cc7832;\">extends </span>Application {<br>    <span style=\"color:#cc7832;\">private static </span>Logger <span style=\"color:#9876aa;font-style:italic;\">logger </span>= LoggerFactory.<span style=\"font-style:italic;\">getLogger</span>(Main.<span style=\"color:#cc7832;\">class</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">    </span><span style=\"color:#bbb529;\">@Override<br></span><span style=\"color:#bbb529;\">    </span><span style=\"color:#cc7832;\">public void </span><span style=\"color:#ffc66d;\">start</span>(Stage primaryStage) <span style=\"color:#cc7832;\">throws </span>Exception{<br>        <span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">检查是否保存用户名<br></span><span style=\"color:#808080;font-family:'宋体';\">        </span>String userName = ConfigProxy.<span style=\"color:#9876aa;font-style:italic;\">INSTANCE</span>.getSavedName()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>List&lt;User&gt; userList = Cache.<span style=\"font-style:italic;\">getUserList</span>()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        if </span>(<span style=\"color:#cc7832;\">null </span>== userList) {<br>            <span style=\"color:#9876aa;font-style:italic;\">logger</span>.error(<span style=\"color:#6a8759;\">\"No user exists, create an user first!\"</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">            return;<br></span><span style=\"color:#cc7832;\">        </span>}<br><br>        <span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">根据保存的用户名查找用户<br></span><span style=\"color:#808080;font-family:'宋体';\">        </span>User findUser = <span style=\"color:#cc7832;\">null;<br></span><span style=\"color:#cc7832;\">        if </span>(<span style=\"color:#cc7832;\">null </span>!= userName &amp;&amp; !<span style=\"color:#6a8759;\">\"\"</span>.equals(userName)) {<br>            <span style=\"color:#cc7832;\">for </span>(User user : userList) {<br>                <span style=\"color:#cc7832;\">if </span>(userName.equals(user.getName()) || userName.equals(user.getId())) {<br>                    findUser = user<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                    break;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            }<br>        }<br><br>        <span style=\"color:#cc7832;\">if </span>(<span style=\"color:#cc7832;\">null </span>== findUser) {<br>            <span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">未找到用户，进行登录<br></span><span style=\"color:#808080;font-family:'宋体';\">            </span>LoginForm form = LoginForm.<span style=\"font-style:italic;\">getInstance</span>()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">            </span>Optional&lt;User&gt; result = form.showAndWait()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">            </span>result.ifPresent(user -&gt; {<br>                <span style=\"color:#cc7832;\">if </span>(<span style=\"color:#cc7832;\">null </span>!= user) {<br>                    <span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">保存登录的用户与密码<br></span><span style=\"color:#808080;font-family:'宋体';\">                    </span>User loginUser = Cache.<span style=\"font-style:italic;\">getLoginUser</span>()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                    try </span>{<br>                        ConfigProxy.<span style=\"color:#9876aa;font-style:italic;\">INSTANCE</span>.saveLoginInfo(loginUser.getName())<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                    </span>} <span style=\"color:#cc7832;\">catch </span>(TodoException e) {<br>                        <span style=\"color:#9876aa;font-style:italic;\">logger</span>.error(<span style=\"color:#6a8759;\">\"Save login user info faield!\"</span><span style=\"color:#cc7832;\">, </span>e)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                    </span>}<br><br>                    <span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">显示主界面<br></span><span style=\"color:#808080;font-family:'宋体';\">                    </span>showMainView(<span style=\"color:#b389c5;\">primaryStage</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            })<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>} <span style=\"color:#cc7832;\">else </span>{<br>            <span style=\"color:#9876aa;font-style:italic;\">logger</span>.info(<span style=\"color:#6a8759;\">\"Get saved user info succeeded, username: \" </span>+ findUser.getName())<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">            </span><span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">保存登录的用户信息<br></span><span style=\"color:#808080;font-family:'宋体';\">            </span>Cache.<span style=\"font-style:italic;\">setLoginUser</span>(findUser)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">            </span><span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">找到用户，直接显示主界面<br></span><span style=\"color:#808080;font-family:'宋体';\">            </span>showMainView(primaryStage)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>}<br>    }<br><br>    <span style=\"color:#cc7832;\">private void </span><span style=\"color:#ffc66d;\">showMainView</span>(Stage primaryStage) {<br>        BorderPane root = <span style=\"color:#cc7832;\">null;<br></span><span style=\"color:#cc7832;\">        try </span>{<br>            root = FXMLLoader.<span style=\"font-style:italic;\">load</span>(getClass().getResource(<span style=\"color:#6a8759;\">\"sample.fxml\"</span>))<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>} <span style=\"color:#cc7832;\">catch </span>(IOException e) {<br>            <span style=\"color:#9876aa;font-style:italic;\">logger</span>.error(<span style=\"color:#6a8759;\">\"Load fxml file failed!\"</span><span style=\"color:#cc7832;\">, </span>e)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">            </span>System.<span style=\"font-style:italic;\">exit</span>(<span style=\"color:#6897bb;\">0</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>}<br>        primaryStage.setTitle(<span style=\"color:#6a8759;\">\"</span><span style=\"color:#6a8759;font-family:'宋体';\">项目管理</span><span style=\"color:#6a8759;\">\"</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>primaryStage.setScene(<span style=\"color:#cc7832;\">new </span>Scene(root))<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>primaryStage.setMaximized(<span style=\"color:#cc7832;\">true</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">        </span>TabPane tabPane = (TabPane) root.getCenter()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>Iterator&lt;Tab&gt; it = tabPane.getTabs().iterator()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        while </span>(it.hasNext()) {<br>            Tab tab = it.next()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">            if </span>(<span style=\"color:#6a8759;\">\"todo\"</span>.equals(tab.getId()) || <span style=\"color:#6a8759;\">\"requirement\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">continue;<br></span><span style=\"color:#cc7832;\">            </span>}<br><br>            User loginUser = Cache.<span style=\"font-style:italic;\">getLoginUser</span>()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">            if </span>(<span style=\"color:#6a8759;\">\"myCalendar\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">if </span>(!loginUser.isAdmin()<br>                        || !ConfigProxy.<span style=\"color:#9876aa;font-style:italic;\">INSTANCE</span>.<span style=\"background-color:#344134;\">showMyCalendar</span>()) {<br>                    it.remove()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            } <span style=\"color:#cc7832;\">else if </span>(<span style=\"color:#6a8759;\">\"calendar\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">if </span>(!ConfigProxy.<span style=\"color:#9876aa;font-style:italic;\">INSTANCE</span>.showCalendar()) {<br>                    it.remove()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            } <span style=\"color:#cc7832;\">else if </span>(<span style=\"color:#6a8759;\">\"userManager\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">if </span>(loginUser.isNormalUser()) {<br>                    it.remove()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            } <span style=\"color:#cc7832;\">else if </span>(<span style=\"color:#6a8759;\">\"env\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">if </span>(!loginUser.isAdmin()) {<br>                    it.remove()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            } <span style=\"color:#cc7832;\">else if </span>(<span style=\"color:#6a8759;\">\"note\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">if </span>(!loginUser.isAdmin()) {<br>                    it.remove()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            }<br>        }     <br><br><br><span style=\"color:#808080;\">//        primaryStage.initStyle(StageStyle.UNDECORATED);<br></span><span style=\"color:#808080;\">//        javafx.geometry.Rectangle2D bounds = Screen.getPrimary().getVisualBounds();<br></span><span style=\"color:#808080;\">//        primaryStage.setX(bounds.getMinX());<br></span><span style=\"color:#808080;\">//        primaryStage.setY(bounds.getMinY());<br></span><span style=\"color:#808080;\">//        primaryStage.setWidth(bounds.getWidth());<br></span><span style=\"color:#808080;\">//        primaryStage.setHeight(bounds.getHeight());<br></span><span style=\"color:#808080;\"><br></span><span style=\"color:#808080;\">        </span>primaryStage.initStyle(StageStyle.<span style=\"color:#9876aa;font-style:italic;\">UNIFIED</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">        </span>root.getStylesheets().add(<span style=\"color:#6a8759;\">\"/main.css\"</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">        </span>primaryStage.show()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">    </span>}<br><br><br>    <span style=\"color:#cc7832;\">public static void </span><span style=\"color:#ffc66d;\">main</span>(String[] args) {<br>        <span style=\"font-style:italic;\">launch</span>(args)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">    </span>}<br>}<br></pre></body></html>","createTime":"2017-08-26 22:53:23","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":127,"name":"123","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">1231123123123123123a &nbsp; a a &nbsp;斯塔大柳塔</font></p></body></html>","createTime":"2017-08-26 23:00:23","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":128,"name":"222","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p>a<font face=\"Segoe UI\">斯塔克格勃工工</font></p></body></html>","createTime":"2017-08-26 23:00:39","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[{"id":6,"fileName":"1.doc","noteId":128}]},{"id":129,"name":"12312312322222","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">adfasdfsadf1111 &nbsp; &nbsp; adfad asd asdfasd asdf asd as asdfadsf a adasdfa dsaf asdasd fa工</font></p></body></html>","createTime":"2017-08-26 23:00:48","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[{"id":5,"fileName":"222222222.doc","noteId":129}]},{"id":130,"name":"123123123","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">ssdfsdf1212312311111aaaa</font></p></body></html>","createTime":"2017-08-26 23:00:56","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":132,"name":"2222222","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">222222</font></p></body></html>","createTime":"2017-08-29 11:14:39","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":164,"name":"123123","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">123123123</font></p></body></html>","createTime":"2017-08-30 09:25:14","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":165,"name":"aaaaaaa","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">aaaaaaaadfadsf asdf</font></p></body></html>","createTime":"2017-08-30 09:25:27","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]}],"content":"","createTime":"2017-08-26 22:53:07","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":126,"name":"qe123123","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:'Consolas';font-size:9.0pt;\"><span style=\"color:#cc7832;\">package </span>com.liuqi.tool.todo.ui<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">import </span>com.liuqi.learn.exceptions.TodoException<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>com.liuqi.learn.model.User<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>com.liuqi.tool.todo.util.Cache<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>com.liuqi.tool.todo.util.ConfigProxy<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.application.Application<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.fxml.FXMLLoader<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.scene.Parent<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.scene.Scene<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.scene.control.Tab<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.scene.control.TabPane<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.scene.layout.BorderPane<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.stage.Screen<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.stage.Stage<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>javafx.stage.StageStyle<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>org.slf4j.Logger<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>org.slf4j.LoggerFactory<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">import </span>java.awt.geom.Rectangle2D<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>java.io.IOException<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>java.util.Iterator<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>java.util.List<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">import </span>java.util.Optional<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">public class </span>Main <span style=\"color:#cc7832;\">extends </span>Application {<br>    <span style=\"color:#cc7832;\">private static </span>Logger <span style=\"color:#9876aa;font-style:italic;\">logger </span>= LoggerFactory.<span style=\"font-style:italic;\">getLogger</span>(Main.<span style=\"color:#cc7832;\">class</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">    </span><span style=\"color:#bbb529;\">@Override<br></span><span style=\"color:#bbb529;\">    </span><span style=\"color:#cc7832;\">public void </span><span style=\"color:#ffc66d;\">start</span>(Stage primaryStage) <span style=\"color:#cc7832;\">throws </span>Exception{<br>        <span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">检查是否保存用户名<br></span><span style=\"color:#808080;font-family:'宋体';\">        </span>String userName = ConfigProxy.<span style=\"color:#9876aa;font-style:italic;\">INSTANCE</span>.getSavedName()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>List&lt;User&gt; userList = Cache.<span style=\"font-style:italic;\">getUserList</span>()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        if </span>(<span style=\"color:#cc7832;\">null </span>== userList) {<br>            <span style=\"color:#9876aa;font-style:italic;\">logger</span>.error(<span style=\"color:#6a8759;\">\"No user exists, create an user first!\"</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">            return;<br></span><span style=\"color:#cc7832;\">        </span>}<br><br>        <span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">根据保存的用户名查找用户<br></span><span style=\"color:#808080;font-family:'宋体';\">        </span>User findUser = <span style=\"color:#cc7832;\">null;<br></span><span style=\"color:#cc7832;\">        if </span>(<span style=\"color:#cc7832;\">null </span>!= userName &amp;&amp; !<span style=\"color:#6a8759;\">\"\"</span>.equals(userName)) {<br>            <span style=\"color:#cc7832;\">for </span>(User user : userList) {<br>                <span style=\"color:#cc7832;\">if </span>(userName.equals(user.getName()) || userName.equals(user.getId())) {<br>                    findUser = user<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                    break;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            }<br>        }<br><br>        <span style=\"color:#cc7832;\">if </span>(<span style=\"color:#cc7832;\">null </span>== findUser) {<br>            <span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">未找到用户，进行登录<br></span><span style=\"color:#808080;font-family:'宋体';\">            </span>LoginForm form = LoginForm.<span style=\"font-style:italic;\">getInstance</span>()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">            </span>Optional&lt;User&gt; result = form.showAndWait()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">            </span>result.ifPresent(user -&gt; {<br>                <span style=\"color:#cc7832;\">if </span>(<span style=\"color:#cc7832;\">null </span>!= user) {<br>                    <span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">保存登录的用户与密码<br></span><span style=\"color:#808080;font-family:'宋体';\">                    </span>User loginUser = Cache.<span style=\"font-style:italic;\">getLoginUser</span>()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                    try </span>{<br>                        ConfigProxy.<span style=\"color:#9876aa;font-style:italic;\">INSTANCE</span>.saveLoginInfo(loginUser.getName())<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                    </span>} <span style=\"color:#cc7832;\">catch </span>(TodoException e) {<br>                        <span style=\"color:#9876aa;font-style:italic;\">logger</span>.error(<span style=\"color:#6a8759;\">\"Save login user info faield!\"</span><span style=\"color:#cc7832;\">, </span>e)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                    </span>}<br><br>                    <span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">显示主界面<br></span><span style=\"color:#808080;font-family:'宋体';\">                    </span>showMainView(<span style=\"color:#b389c5;\">primaryStage</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            })<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>} <span style=\"color:#cc7832;\">else </span>{<br>            <span style=\"color:#9876aa;font-style:italic;\">logger</span>.info(<span style=\"color:#6a8759;\">\"Get saved user info succeeded, username: \" </span>+ findUser.getName())<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">            </span><span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">保存登录的用户信息<br></span><span style=\"color:#808080;font-family:'宋体';\">            </span>Cache.<span style=\"font-style:italic;\">setLoginUser</span>(findUser)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">            </span><span style=\"color:#808080;\">//</span><span style=\"color:#808080;font-family:'宋体';\">找到用户，直接显示主界面<br></span><span style=\"color:#808080;font-family:'宋体';\">            </span>showMainView(primaryStage)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>}<br>    }<br><br>    <span style=\"color:#cc7832;\">private void </span><span style=\"color:#ffc66d;\">showMainView</span>(Stage primaryStage) {<br>        BorderPane root = <span style=\"color:#cc7832;\">null;<br></span><span style=\"color:#cc7832;\">        try </span>{<br>            root = FXMLLoader.<span style=\"font-style:italic;\">load</span>(getClass().getResource(<span style=\"color:#6a8759;\">\"sample.fxml\"</span>))<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>} <span style=\"color:#cc7832;\">catch </span>(IOException e) {<br>            <span style=\"color:#9876aa;font-style:italic;\">logger</span>.error(<span style=\"color:#6a8759;\">\"Load fxml file failed!\"</span><span style=\"color:#cc7832;\">, </span>e)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">            </span>System.<span style=\"font-style:italic;\">exit</span>(<span style=\"color:#6897bb;\">0</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>}<br>        primaryStage.setTitle(<span style=\"color:#6a8759;\">\"</span><span style=\"color:#6a8759;font-family:'宋体';\">项目管理</span><span style=\"color:#6a8759;\">\"</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>primaryStage.setScene(<span style=\"color:#cc7832;\">new </span>Scene(root))<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>primaryStage.setMaximized(<span style=\"color:#cc7832;\">true</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">        </span>TabPane tabPane = (TabPane) root.getCenter()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        </span>Iterator&lt;Tab&gt; it = tabPane.getTabs().iterator()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">        while </span>(it.hasNext()) {<br>            Tab tab = it.next()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">            if </span>(<span style=\"color:#6a8759;\">\"todo\"</span>.equals(tab.getId()) || <span style=\"color:#6a8759;\">\"requirement\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">continue;<br></span><span style=\"color:#cc7832;\">            </span>}<br><br>            User loginUser = Cache.<span style=\"font-style:italic;\">getLoginUser</span>()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">            if </span>(<span style=\"color:#6a8759;\">\"myCalendar\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">if </span>(!loginUser.isAdmin()<br>                        || !ConfigProxy.<span style=\"color:#9876aa;font-style:italic;\">INSTANCE</span>.<span style=\"background-color:#344134;\">showMyCalendar</span>()) {<br>                    it.remove()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            } <span style=\"color:#cc7832;\">else if </span>(<span style=\"color:#6a8759;\">\"calendar\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">if </span>(!ConfigProxy.<span style=\"color:#9876aa;font-style:italic;\">INSTANCE</span>.showCalendar()) {<br>                    it.remove()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            } <span style=\"color:#cc7832;\">else if </span>(<span style=\"color:#6a8759;\">\"userManager\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">if </span>(loginUser.isNormalUser()) {<br>                    it.remove()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            } <span style=\"color:#cc7832;\">else if </span>(<span style=\"color:#6a8759;\">\"env\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">if </span>(!loginUser.isAdmin()) {<br>                    it.remove()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            } <span style=\"color:#cc7832;\">else if </span>(<span style=\"color:#6a8759;\">\"note\"</span>.equals(tab.getId())) {<br>                <span style=\"color:#cc7832;\">if </span>(!loginUser.isAdmin()) {<br>                    it.remove()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">                </span>}<br>            }<br>        }     <br><br><br><span style=\"color:#808080;\">//        primaryStage.initStyle(StageStyle.UNDECORATED);<br></span><span style=\"color:#808080;\">//        javafx.geometry.Rectangle2D bounds = Screen.getPrimary().getVisualBounds();<br></span><span style=\"color:#808080;\">//        primaryStage.setX(bounds.getMinX());<br></span><span style=\"color:#808080;\">//        primaryStage.setY(bounds.getMinY());<br></span><span style=\"color:#808080;\">//        primaryStage.setWidth(bounds.getWidth());<br></span><span style=\"color:#808080;\">//        primaryStage.setHeight(bounds.getHeight());<br></span><span style=\"color:#808080;\"><br></span><span style=\"color:#808080;\">        </span>primaryStage.initStyle(StageStyle.<span style=\"color:#9876aa;font-style:italic;\">UNIFIED</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">        </span>root.getStylesheets().add(<span style=\"color:#6a8759;\">\"/main.css\"</span>)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\"><br></span><span style=\"color:#cc7832;\">        </span>primaryStage.show()<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">    </span>}<br><br><br>    <span style=\"color:#cc7832;\">public static void </span><span style=\"color:#ffc66d;\">main</span>(String[] args) {<br>        <span style=\"font-style:italic;\">launch</span>(args)<span style=\"color:#cc7832;\">;<br></span><span style=\"color:#cc7832;\">    </span>}<br>}<br></pre></body></html>","createTime":"2017-08-26 22:53:23","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":127,"name":"123","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">1231123123123123123a &nbsp; a a &nbsp;斯塔大柳塔</font></p></body></html>","createTime":"2017-08-26 23:00:23","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":128,"name":"222","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p>a<font face=\"Segoe UI\">斯塔克格勃工工</font></p></body></html>","createTime":"2017-08-26 23:00:39","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[{"id":6,"fileName":"1.doc","noteId":128}]},{"id":129,"name":"12312312322222","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">adfasdfsadf1111 &nbsp; &nbsp; adfad asd asdfasd asdf asd as asdfadsf a adasdfa dsaf asdasd fa工</font></p></body></html>","createTime":"2017-08-26 23:00:48","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[{"id":5,"fileName":"222222222.doc","noteId":129}]},{"id":130,"name":"123123123","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">ssdfsdf1212312311111aaaa</font></p></body></html>","createTime":"2017-08-26 23:00:56","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":132,"name":"2222222","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">222222</font></p></body></html>","createTime":"2017-08-29 11:14:39","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":164,"name":"123123","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">123123123</font></p></body></html>","createTime":"2017-08-30 09:25:14","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]},{"id":165,"name":"aaaaaaa","directory":false,"parent":125,"childrens":[],"content":"<html dir=\"ltr\"><head></head><body contenteditable=\"true\"><p><font face=\"Segoe UI\">aaaaaaaadfadsf asdf</font></p></body></html>","createTime":"2017-08-30 09:25:27","user":{"name":"刘奇","password":"123456","corp":"长沙银行","role":"admin","status":null,"inDate":null,"outDate":null,"id":1},"fileList":[]}] 
ERROR [2017-09-02 18:56:52,782][] com.liuqi.tool.todo.ui.note.EditorFileView:87 - Upload file failed! 
com.liuqi.learn.exceptions.TodoException: Could not parse multipart servlet request; nested exception is java.io.IOException: The temporary upload location [C:\Users\icaru\AppData\Local\Temp\tomcat.4002416748618352090.80\work\Tomcat\localhost\ROOT] is not valid
	at com.liuqi.tool.todo.util.Ajax.getResponseJsonData(Ajax.java:279)
	at com.liuqi.tool.todo.util.Ajax.uploadFile(Ajax.java:166)
	at com.liuqi.tool.todo.util.AjaxProxy.uploadFile(AjaxProxy.java:69)
	at com.liuqi.tool.todo.ui.note.EditorFileView.addFile(EditorFileView.java:85)
	at com.liuqi.tool.todo.ui.note.EditorFileView.lambda$new$0(EditorFileView.java:45)
	at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.Node.fireEvent(Node.java:8411)
	at javafx.scene.control.Button.fire(Button.java:185)
	at com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)
	at com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)
	at com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)
	at com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)
	at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)
	at com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.event.Event.fireEvent(Event.java:198)
	at javafx.scene.Scene$MouseHandler.process(Scene.java:3757)
	at javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)
	at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)
	at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:380)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:294)
	at java.security.AccessController.doPrivileged(Native Method)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$354(GlassViewEventHandler.java:416)
	at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:389)
	at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:415)
	at com.sun.glass.ui.View.handleMouseEvent(View.java:555)
	at com.sun.glass.ui.View.notifyMouse(View.java:937)
	at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at com.sun.glass.ui.win.WinApplication.lambda$null$148(WinApplication.java:191)
	at java.lang.Thread.run(Thread.java:745)
DEBUG [2017-09-02 18:58:12,031][] com.liuqi.tool.todo.util.Ajax:287 - Get response json:  
